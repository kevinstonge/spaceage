(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{172:function(e,t,n){},177:function(e,t,n){"use strict";n.r(t),n.d(t,"store",(function(){return D}));var a=n(0),c=n.n(a),r=n(23),i=n.n(r),s=(n(63),n(18)),u=n(13),o=n(5),l={getAPISwagger:"GET_API_SWAGGER",setActiveAPI:"SET_ACTIVE_API",setActiveEndpoint:"SET_ACTIVE_ENDPOINT",getEndpointParameters:"GET_API_PARAMETERS",setParams:"SET_URL_PARAMETERS",setQuery:"SET_QUERY",setQueryResults:"SET_QUERY_RESULTS"},p={APISwagger:null,activeEndpoints:{},EndpointParameters:null,URLParameters:null,queries:{},queryResults:{}},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.getAPISwagger:return Object(o.a)(Object(o.a)({},e),{},{APISwagger:t.payload});case l.setActiveEndpoint:return Object(o.a)(Object(o.a)({},e),{},{activeEndpoints:Object(o.a)(Object(o.a)({},e.activeEndpoints),{},Object(u.a)({},t.payload.apiName,t.payload.endpoint))});case l.getEndpointParameters:return Object(o.a)(Object(o.a)({},e),{},{EndpointParameters:Object(u.a)({},t.payload.endpoint,t.payload.parameters)});case l.setParams:var n=t.payload,a=n.pathname,c=n.search,r=a.replace(/\/$/,"").replace(/^\//,"").split("/"),i=r[0]||void 0,s=r[1]||void 0,d=i&&s?i===s?"/".concat(i,"/"):"/".concat(i,"/").concat(s.replace(/^(id)$/,"{id}").replace(/(:id)$/,"/{id}"),"/"):void 0,j=i&&s?"".concat(i,"/").concat(s):void 0,b=d?"".concat(d.replace("/{id}","")).concat(c.replace("?id=","")):"",O=j?c?"".concat(j,"/").concat(c):j:void 0;return Object(o.a)(Object(o.a)({},e),{},{URLParameters:{api:i,endpoint:s,query:c,pathStringForSwagger:d,pathStringForReact:j,fullQueryForAPI:b,fullQueryForReact:O}});case l.setQuery:return Object(o.a)(Object(o.a)({},e),{},{queries:Object(o.a)(Object(o.a)({},e.queries),{},Object(u.a)({},t.payload.path,t.payload.data))});case l.setQueryResults:return Object(o.a)(Object(o.a)({},e),{},{queryResults:Object(o.a)(Object(o.a)({},e.queryResults),{},Object(u.a)({},t.payload.query,{queryPath:t.payload.queryPath,query:t.payload.query,queryResult:t.payload.queryResult,timestamp:Date.now(),status:t.payload.status||""}))});default:return e}},j=Object(s.a)({API:d}),b=n(4),O=n(14),h=(n(69),n(6)),f=(n(70),n(2)),y=function(){return Object(f.jsxs)("header",{children:[Object(f.jsxs)("div",{className:"left",children:[Object(f.jsx)("img",{src:"".concat("","/logo70.png"),alt:"cute purple rocket ship"}),Object(f.jsx)("h1",{children:"spaceage"})]}),Object(f.jsx)("div",{className:"right",children:Object(f.jsx)("a",{href:"/launch/upcoming/?search=spacex",children:"spacex:upcoming"})})]})},g={APIActions:l},m=n(57),v=n.n(m).a.create({baseURL:"https://spaceage.kevinstonge.com/api"});function A(e){var t=Object(b.b)(),n=Object(b.c)((function(e){return e.API.APISwagger})),c=Object(b.c)((function(e){return e.API.activeAPI})),r=Object(b.c)((function(e){return e.API.URLParameters})),i=Object(h.d)();return Object(a.useEffect)((function(){v.get("/data/apis").then((function(e){t({type:g.APIActions.getAPISwagger,payload:e.data})}))}),[t]),Object(a.useEffect)((function(){n&&n.paths&&(r.api&&0===Object.keys(n.paths).filter((function(e){return e.split("/")[1]===r.api})).length&&i.push("/"))}),[r,n,i]),Object(f.jsx)(f.Fragment,{children:(null===n||void 0===n?void 0:n.paths)&&Object(f.jsx)("nav",{children:Array.from(new Set(Object.keys(n.paths).map((function(e){return e.split("/")[1]})))).map((function(e,t){return Object(f.jsx)(O.b,{to:"/".concat(e),className:"nav ".concat(c&&c.Name===e?"active":"inactive"),children:e},"apiItem-".concat(t))}))})})}function P(){var e=Object(b.c)((function(e){return e.API.APISwagger})),t=Object(b.c)((function(e){return e.API.activeEndpoints})),n=Object(b.c)((function(e){return e.API.URLParameters})),c=Object(b.b)(),r=Object(h.d)(),i=n.api,s=n.endpoint;return Object(a.useEffect)((function(){if(e&&i){var n=Object.keys(e.paths).filter((function(e){return e.split("/")[1]===i&&(e.split("/").slice(2,-1).join(":").replace("{id}","id")===s||s===i)}));!(n.length>0)||t&&t.hasOwnProperty(i)||c({type:g.APIActions.setActiveEndpoint,payload:{apiName:i,endpoint:s}}),n.length>0&&t&&t.hasOwnProperty(i)&&t[i]!==s&&c({type:g.APIActions.setActiveEndpoint,payload:{apiName:i,endpoint:s}}),t&&!s&&t.hasOwnProperty(i)&&r.push("/".concat(i,"/").concat(t[i]))}}),[n,c,e,i,s,t,r]),Object(f.jsx)("nav",{children:i&&e&&Object.keys(e.paths).map((function(e,t){var a=e.split("/"),c=""===a[2]?i:a.slice(2,-1).join(":").replace(/[{}]/g,"");return a[1]===i?Object(f.jsx)(O.b,{to:"/".concat(i,"/").concat(c),className:"nav ".concat(n.endpoint===c?"active":"inactive"),children:c},"endpoint-".concat(c,"-").concat(t)):null}))})}var x=n(16),I=function(e){var t=e.pathStringForReact,n=e.fullQueryForReact,a=e.fullQueryForAPI;D.dispatch({type:g.APIActions.setQueryResults,payload:{queryPath:t,query:n,queryResult:[],status:"searching"}}),v.get("/data".concat(a)).then((function(e){e.data&&D.dispatch({type:g.APIActions.setQueryResults,payload:{queryPath:t,query:n,queryResult:e.data,status:"success"}})})).catch((function(e){D.dispatch({type:g.APIActions.setQueryResults,payload:{queryPath:t,query:n,queryResult:[],status:"unable to retrieve data from the server, try again later"}})}))},E=n(21),R=function(e){var t,n=["search"],a=[];(null===e||void 0===e||null===(t=e.get)||void 0===t?void 0:t.parameters)&&e.get.parameters.length>0&&a.push.apply(a,Object(E.a)(e.get.parameters)),(null===e||void 0===e?void 0:e.parameters)&&e.parameters.length>0&&a.push.apply(a,Object(E.a)(e.parameters));var c=a.filter((function(e){return n.includes(e.name)})),r=a.filter((function(e){var t=0;return c.forEach((function(n){n.name===e.name&&t++})),!(t>0)}));return[].concat(Object(E.a)(c),Object(E.a)(r))};function S(){var e=Object(b.b)(),t=Object(h.d)(),n=Object(b.c)((function(e){return e.API.APISwagger})),c=Object(b.c)((function(e){return e.API.EndpointParameters})),r=Object(b.c)((function(e){return e.API.URLParameters})),i=Object(b.c)((function(e){return e.API.queries})),s=Object(b.c)((function(e){return e.API.queryResults})),l=r.api,p=r.endpoint,d=r.query,j=r.pathStringForSwagger,O=r.fullQueryForAPI,y=r.pathStringForReact,m=r.fullQueryForReact;Object(a.useEffect)((function(){if(d&&n.paths["".concat(j)]){var t=JSON.parse('{"'+decodeURI(d).replace(/^\?/,"").replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"')+'"}');e({type:g.APIActions.setQuery,payload:{path:m,data:t}}),(!s[m]||s[m].timestamp<Date.now()-1e4)&&I(r)}}),[d,s,n,r,m,j,e]),Object(a.useEffect)((function(){if(p&&l&&n){var t=n.paths["".concat(j)],a=R(t);e({type:g.APIActions.getEndpointParameters,payload:{endpoint:y,parameters:a}}),0===a.length&&(null===t||void 0===t?void 0:t.get)&&(!s[m]||s[m].timestamp<Date.now()-1e4)&&I(r)}}),[r,j,y,m,l,p,n,s,e]),Object(a.useEffect)((function(){m&&""!==m&&!m.includes("undefined")&&(!!i&&m in i||e({type:g.APIActions.setQuery,payload:{path:m,data:null}}))}),[i,m,e]),Object(a.useEffect)((function(){if(i&&i[m]){var e=Object.entries(i[m]).filter((function(e){return""!==e[1]})).map((function(e){return"".concat(e[0],"=").concat(e[1])})).sort().join("&");"".concat(t.location.pathname).concat(t.location.search)!=="/".concat(y,"/?").concat(e)&&(console.log("pushing"),t.push("/".concat(y,"/?").concat(e)))}}),[]),Object(a.useEffect)((function(){i&&null===i[m]&&c&&c[y]&&c[y].length>0&&e({type:g.APIActions.setQuery,payload:{path:m,data:Object(u.a)({},c[y][0].name,"")}})}),[i,y,c,O,m,e]);return Object(f.jsx)(f.Fragment,{children:i&&i[m]&&c&&c[y]&&Object(f.jsxs)("form",{onSubmit:function(e){e.preventDefault(),function(){var e=Object.entries(i[m]).filter((function(e){return""!==e[1]})).map((function(e){return"".concat(e[0],"=").concat(e[1])})).sort().join("&");t.push("/".concat(y,"/?").concat(e))}()},children:[Object.entries(i[m]).map((function(t,n){var a=Object(x.a)(t,2),r=a[0],s=a[1];return Object(f.jsxs)("div",{children:[Object(f.jsx)("select",{value:r,id:"".concat(r,"-select"),onChange:function(t){return function(t){var n=t.target.id.substring(0,t.target.id.length-7),a=t.target.value,c=i[m];delete c[n],c[a]="",e({type:g.APIActions.setQuery,payload:{path:m,data:c}})}(t)},children:c[y]&&c[y].length>0&&c[y].map((function(e,t){var n=Object.keys(i[m]).includes(e.name)&&r!==e.name;return Object(f.jsx)("option",{disabled:n,id:"".concat(e.name,"-option"),children:e.name},"param-".concat(t))}))}),Object(f.jsx)("input",{type:"text",value:s,onChange:function(t){return function(t){var n=i[m];n[t.target.id.substring(0,t.target.id.length-6)]=t.target.value,e({type:g.APIActions.setQuery,payload:{path:m,data:n}})}(t)},id:"".concat(r,"-input")}),n>0&&Object(f.jsx)("button",{type:"button",id:"".concat(r,"-remove"),onClick:function(t){t.preventDefault(),function(t){var n=t.target.id.substring(0,t.target.id.length-7),a=i[m];delete a[n],e({type:g.APIActions.setQuery,payload:{path:m,data:a}})}(t)},children:"-"})]},"queryItem-".concat(n))})),Object.keys(i[m]).length<c[y].length&&Object(f.jsx)("p",{children:Object(f.jsx)("button",{type:"button",onClick:function(t){t.preventDefault(),function(){var t=c[y].filter((function(e){return!Object.keys(i[m]).includes(e.name)}))[0].name;e({type:g.APIActions.setQuery,payload:{path:m,data:Object(o.a)(Object(o.a)({},i[m]),{},Object(u.a)({},t,""))}})}()},children:"+"})}),Object(f.jsx)("p",{children:Object(f.jsx)("input",{type:"submit",value:"search"})})]})})}var q=n(25),N=n.n(q);function w(e){var t=e.property,n=e.value;if(null===n||0===n.length)return null;if("object"===typeof n)return Object(f.jsx)("div",{className:"resultItem",children:Object(f.jsxs)("details",{children:[Object(f.jsx)("summary",{children:Object(f.jsx)("p",{children:Object(f.jsxs)("span",{className:"label",children:[t,n.name&&" (".concat(n.name,")"),!n.name&&n.title&&" (".concat(n.title,")")]})})}),Object.entries(n).map((function(e,n){var a=Object(x.a)(e,2),c=a[0],r=a[1];return null===r?null:Object(f.jsx)(w,{property:c,value:r},"".concat(t,"-").concat(c,"-").concat(n))}))]})});var a=JSON.stringify(n).replace(/^"(.+)"$/,"$1");return Object(f.jsx)("div",{className:"resultItem",children:Object(f.jsxs)("p",{children:[Object(f.jsx)("span",{className:"label",children:t}),": ",N.a.isURL(a)?Object(f.jsx)("a",{href:a,children:a}):a]})})}n(55);function _(e){var t={url:null};return Object(f.jsxs)("div",{className:"resultCard",children:[Object(f.jsx)("div",{className:"left",children:Object.entries(e.data).map((function(e,n){var a=Object(x.a)(e,2),c=a[0],r=a[1];return"image"===c&&(null===r||void 0===r?void 0:r.length)>0?(t.url=r,null):null===r||0===r.length?null:Object(f.jsx)(w,{property:c,value:r},"".concat(c,"-").concat(n))}))}),null!==t.url&&N.a.isURL(t.url)&&Object(f.jsx)("div",{className:"right",children:Object(f.jsx)("a",{href:t.url,target:"new",children:Object(f.jsx)("img",{src:t.url,alt:""})})})]})}n(172);var Q=function(){return Object(f.jsxs)("div",{className:"loadingContainer",children:[Object(f.jsx)("p",{className:"loadingText",children:"...searching..."}),Object(f.jsx)("img",{className:"loadingImage",alt:"rocket flying around",src:"".concat("","/logo150.png")})]})};function F(){var e,t=Object(b.c)((function(e){return e.API.URLParameters})).fullQueryForReact,n=Object(b.c)((function(e){return e.API.queryResults}));return Object(f.jsxs)(f.Fragment,{children:[n&&n[t]&&(null===(e=n[t].queryResult)||void 0===e?void 0:e.results)&&Object(f.jsx)("div",{className:"queryResults",children:n[t].queryResult.results.map((function(e,t){return Object(f.jsx)(_,{data:e},"resultCard-".concat(t))}))}),(!n||!n[t])&&Object(f.jsx)("p",{children:"no data"}),n&&n[t]&&"searching"===n[t].status&&Object(f.jsx)(Q,{})]})}var T=function(){var e=Object(b.b)(),t=Object(h.e)(),n=Object(b.c)((function(e){return e.API.URLParameters}));return Object(a.useEffect)((function(){e({type:g.APIActions.setParams,payload:t})}),[t,e]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(y,{}),Object(f.jsx)(A,{}),(null===n||void 0===n?void 0:n.api)&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(P,{}),(null===n||void 0===n?void 0:n.endpoint)&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(S,{}),Object(f.jsx)(F,{})]})]})]})},U=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,178)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))},L=n(58),k=n.n(L),C=Object(s.b)(k()()),D=Object(s.c)(j,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__(),C);i.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(b.a,{store:D,children:Object(f.jsx)(O.a,{children:Object(f.jsx)(T,{})})})}),document.getElementById("root")),U()},55:function(e,t,n){},63:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){}},[[177,1,2]]]);
//# sourceMappingURL=main.dd133485.chunk.js.map