(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{174:function(e,t,n){},179:function(e,t,n){"use strict";n.r(t),n.d(t,"store",(function(){return G}));var c=n(1),a=n.n(c),r=n(23),s=n.n(r),i=(n(63),n(18)),o=n(13),l=n(5),u={getAPISwagger:"GET_API_SWAGGER",setActiveAPI:"SET_ACTIVE_API",setActiveEndpoint:"SET_ACTIVE_ENDPOINT",getEndpointParameters:"GET_API_PARAMETERS",setParams:"SET_URL_PARAMETERS",setQuery:"SET_QUERY",setQueryResults:"SET_QUERY_RESULTS",cleanUpQueryResults:"CLEAN_UP_QUERY_RESULTS"},p={APISwagger:{},activeEndpoints:{},EndpointParameters:null,URLParameters:{api:null,endpoint:null,query:null,pathStringForSwagger:null,pathStringForReact:null,fullQueryForAPI:null,fullQueryForReact:null},queries:{},queryResults:{}},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.getAPISwagger:return Object(l.a)(Object(l.a)({},e),{},{APISwagger:t.payload});case u.setActiveEndpoint:return Object(l.a)(Object(l.a)({},e),{},{activeEndpoints:Object(l.a)(Object(l.a)({},e.activeEndpoints),{},Object(o.a)({},t.payload.apiName,t.payload.endpoint))});case u.getEndpointParameters:return Object(l.a)(Object(l.a)({},e),{},{EndpointParameters:Object(o.a)({},t.payload.endpoint,t.payload.parameters)});case u.setParams:var n=t.payload,c=n.pathname,a=n.search,r=c.replace(/\/$/,"").replace(/^\//,"").split("/"),s=r[0]||void 0,i=r[1]||void 0,j=s&&i?s===i?"/".concat(s,"/"):"/".concat(s,"/").concat(i.replace(/^(id)$/,"{id}").replace(/(:id)$/,"/{id}"),"/"):void 0,d=s&&i?"".concat(s,"/").concat(i):void 0,b=j?"".concat(j.replace("/{id}","")).concat(a.replace("?id=","")):"",O=d?a?"".concat(d,"/").concat(a):d:void 0;return Object(l.a)(Object(l.a)({},e),{},{URLParameters:{api:s,endpoint:i,query:a,pathStringForSwagger:j,pathStringForReact:d,fullQueryForAPI:b,fullQueryForReact:O}});case u.setQuery:return Object(l.a)(Object(l.a)({},e),{},{queries:Object(l.a)(Object(l.a)({},e.queries),{},Object(o.a)({},t.payload.path,t.payload.data))});case u.setQueryResults:return Object(l.a)(Object(l.a)({},e),{},{queryResults:Object(l.a)(Object(l.a)({},e.queryResults),{},Object(o.a)({},t.payload.query,{queryPath:t.payload.queryPath,query:t.payload.query,queryResult:t.payload.queryResult,timestamp:Date.now(),status:t.payload.status||""}))});case u.cleanUpQueryResults:var h=10,f={};return Object.entries(e.queryResults).sort((function(e,t){return t[1].timestamp-e[1].timestamp})).slice(0,h).forEach((function(e){f[e[0]]=e[1]})),Object(l.a)(Object(l.a)({},e),{},{queryResults:f});default:return e}},d=Object(i.a)({API:j}),b=n(3),O=n(15),h=n(14),f=(n(69),n(6)),m=(n(70),n(0)),y=function(){return Object(m.jsxs)("form",{children:[Object(m.jsxs)("label",{htmlFor:"email",children:[Object(m.jsx)("p",{children:"email:"}),Object(m.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email"})]}),Object(m.jsxs)("label",{htmlFor:"password",children:[Object(m.jsx)("p",{children:"password:"}),Object(m.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"password"})]}),Object(m.jsx)("button",{type:"submit",onClick:function(e){return function(e){e.preventDefault()}(e)},children:"log in"})]})},g=function(){return Object(m.jsxs)("form",{children:[Object(m.jsxs)("label",{htmlFor:"email",children:[Object(m.jsx)("p",{children:"email:"}),Object(m.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email"})]}),Object(m.jsxs)("label",{htmlFor:"new-password",children:[Object(m.jsx)("p",{children:"password:"}),Object(m.jsx)("input",{id:"new-password",name:"new-password",type:"password",autoComplete:"new-password"})]}),Object(m.jsxs)("label",{htmlFor:"confirm-password",children:[Object(m.jsx)("p",{children:"confirm password:"}),Object(m.jsx)("input",{id:"confirm-password",name:"confirm-password",type:"password",autoComplete:"confirm-password"})]}),Object(m.jsx)("button",{type:"submit",onClick:function(e){return function(e){e.preventDefault()}(e)},children:"sign up"})]})},v=function(e){return Object(m.jsxs)("header",{children:[Object(m.jsxs)("div",{className:"left",children:[Object(m.jsx)("img",{src:"".concat("","/logo70.png"),alt:"cute purple rocket ship"}),Object(m.jsx)("h1",{children:"spaceage"})]}),Object(m.jsxs)("div",{className:"right",children:[Object(m.jsx)("button",{onClick:function(){e.setModal({modal:!0,component:y,title:"log_in"})},children:"log_in"}),Object(m.jsx)("button",{onClick:function(){e.setModal({modal:!0,component:g,title:"sign_up"})},children:"sign_up"})]})]})},x={APIActions:u},P=n(57),A=n.n(P).a.create({baseURL:"https://spaceage.kevinstonge.com/api"});function I(e){var t=Object(b.b)(),n=Object(b.c)((function(e){return e.API.APISwagger})),a=Object(b.c)((function(e){return e.API.URLParameters.api})),r=Object(f.d)();return Object(c.useEffect)((function(){A.get("/data/apis").then((function(e){t({type:x.APIActions.getAPISwagger,payload:e.data})}))}),[t]),Object(c.useEffect)((function(){a&&(null===n||void 0===n?void 0:n.paths)&&(0===Object.keys(n.paths).filter((function(e){return e.split("/")[1]===a})).length&&Object.keys(n.paths).length>0&&r.push("/"))}),[a,n,r]),Object(m.jsx)(m.Fragment,{children:(null===n||void 0===n?void 0:n.paths)&&Object(m.jsx)("nav",{children:Array.from(new Set(Object.keys(n.paths).map((function(e){return e.split("/")[1]})))).map((function(e,t){return Object(m.jsx)(O.b,{to:"/".concat(e),className:"nav ".concat(a===e?"active":"inactive"),children:e},"apiItem-".concat(t))}))})})}function R(){var e=Object(b.c)((function(e){return e.API.APISwagger})).paths,t=Object(b.c)((function(e){return e.API.activeEndpoints})),n=Object(b.c)((function(e){return e.API.URLParameters})),a=n.api,r=n.endpoint,s=n.pathStringForReact,i=Object(b.c)((function(e){return e.API.queries})),o=Object(b.b)(),l=Object(f.d)();Object(c.useEffect)((function(){if(!r&&t[a])l.push("/".concat(a,"/").concat(t[a]));else if(e&&t[a]!==r){Object.keys(e).filter((function(e){return e.split("/")[1]===a&&(e.split("/").slice(2,-1).join(":").replace("{id}","id")===r||r===a)})).length>0?o({type:x.APIActions.setActiveEndpoint,payload:{apiName:a,endpoint:r}}):(console.log("culprit"),l.push("/".concat(a)))}}),[a,r,t,e,o,l]);var u=Object(c.useRef)(i);return Object(c.useEffect)((function(){var e;if((null===(e=u.current)||void 0===e?void 0:e.hasOwnProperty(s))&&null!==u.current[s]){var t=Object.entries(u.current[s]).filter((function(e){return""!==e[1]})).map((function(e){return"".concat(e[0],"=").concat(e[1])})).sort().join("&");"".concat(l.location.pathname).concat(l.location.search)!=="/".concat(s,"/?").concat(t)&&l.push("/".concat(s,"/?").concat(t))}}),[s,u,l]),Object(m.jsx)("nav",{children:a&&e&&Object.keys(e).map((function(e,t){var n=e.split("/"),c=""===n[2]?a:n.slice(2,-1).join(":").replace(/[{}]/g,"");return n[1]===a?Object(m.jsx)(O.b,{to:"/".concat(a,"/").concat(c),className:"nav ".concat(r===c?"active":"inactive"),children:c},"endpoint-".concat(c,"-").concat(t)):null}))})}var E=function(e){var t=e.pathStringForReact,n=e.fullQueryForReact,c=e.fullQueryForAPI;G.dispatch({type:x.APIActions.setQueryResults,payload:{queryPath:t,query:n,queryResult:[],status:"searching"}}),A.get("/data".concat(c)).then((function(e){e.data&&G.dispatch({type:x.APIActions.setQueryResults,payload:{queryPath:t,query:n,queryResult:e.data,status:"success"}})})).catch((function(e){G.dispatch({type:x.APIActions.setQueryResults,payload:{queryPath:t,query:n,queryResult:[],status:"unable to retrieve data from the server, try again later"}})}))},w=n(21),S=function(e){var t,n=["search"],c=[];(null===e||void 0===e||null===(t=e.get)||void 0===t?void 0:t.parameters)&&e.get.parameters.length>0&&c.push.apply(c,Object(w.a)(e.get.parameters)),(null===e||void 0===e?void 0:e.parameters)&&e.parameters.length>0&&c.push.apply(c,Object(w.a)(e.parameters));var a=c.filter((function(e){return n.includes(e.name)})),r=c.filter((function(e){var t=0;return a.forEach((function(n){n.name===e.name&&t++})),!(t>0)}));return[].concat(Object(w.a)(a),Object(w.a)(r))};n(94);function q(){var e=Object(b.b)(),t=Object(f.d)(),n=Object(b.c)((function(e){return e.API.APISwagger})),a=Object(b.c)((function(e){return e.API.EndpointParameters})),r=Object(b.c)((function(e){return e.API.URLParameters})),s=Object(b.c)((function(e){return e.API.queries})),i=Object(b.c)((function(e){return e.API.queryResults})),u=r.api,p=r.endpoint,j=r.query,d=r.pathStringForSwagger,O=r.fullQueryForAPI,y=r.pathStringForReact,g=r.fullQueryForReact;Object(c.useEffect)((function(){if(j&&n.paths&&n.paths["".concat(d)]){var t=JSON.parse('{"'+decodeURI(j).replace(/^\?/,"").replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"')+'"}');e({type:x.APIActions.setQuery,payload:{path:y,data:t}}),i[g]||E(r)}}),[j,i,n,r,y,g,d,e]),Object(c.useEffect)((function(){if(p&&u&&n.paths){var t=n.paths["".concat(d)],c=S(t);e({type:x.APIActions.getEndpointParameters,payload:{endpoint:y,parameters:c}}),0===c.length&&(null===t||void 0===t?void 0:t.get)&&(i[g]||E(r))}}),[r,d,y,g,u,p,n,i,e]),Object(c.useEffect)((function(){y&&(s.hasOwnProperty(y)||e({type:x.APIActions.setQuery,payload:{path:y,data:null}}))}),[s,y,e]),Object(c.useEffect)((function(){null===s[y]&&a&&a[y]&&a[y].length>0&&e({type:x.APIActions.setQuery,payload:{path:y,data:Object(o.a)({},a[y][0].name,"")}})}),[s,y,a,O,g,e]);return Object(m.jsx)(m.Fragment,{children:s&&null!==s[y]&&a&&a.hasOwnProperty(y)&&Object(m.jsxs)("form",{onSubmit:function(e){e.preventDefault(),function(){var e=Object.entries(s[y]).filter((function(e){return""!==e[1]})).map((function(e){return"".concat(e[0],"=").concat(e[1])})).sort().join("&");t.push("/".concat(y,"/?").concat(e))}()},children:[Object.entries(s[y]).map((function(t,n){var c=Object(h.a)(t,2),r=c[0],i=c[1];return Object(m.jsxs)("div",{className:"queryItem",children:[Object(m.jsx)("select",{value:r,id:"".concat(r,"-select"),onChange:function(t){return function(t){var n=t.target.id.substring(0,t.target.id.length-7),c=t.target.value,a=s[y];delete a[n],a[c]="",e({type:x.APIActions.setQuery,payload:{path:y,data:a}})}(t)},children:a[y]&&a[y].length>0&&a[y].map((function(e,t){var n=Object.keys(s[y]).includes(e.name)&&r!==e.name;return Object(m.jsx)("option",{disabled:n,id:"".concat(e.name,"-option"),children:e.name},"param-".concat(t))}))}),Object(m.jsx)("input",{type:"text",value:i,onChange:function(t){return function(t){var n=s[y];n[t.target.id.substring(0,t.target.id.length-6)]=t.target.value,e({type:x.APIActions.setQuery,payload:{path:y,data:n}})}(t)},id:"".concat(r,"-input")}),Object.keys(s[y]).length>1&&Object(m.jsx)("button",{type:"button",id:"".concat(r,"-remove"),onClick:function(t){t.preventDefault(),function(t){var n=t.target.id.substring(0,t.target.id.length-7),c=s[y];delete c[n],e({type:x.APIActions.setQuery,payload:{path:y,data:c}})}(t)},children:"-"})]},"queryItem-".concat(n))})),Object.keys(s[y]).length<a[y].length&&Object(m.jsx)("p",{children:Object(m.jsx)("button",{type:"button",onClick:function(t){t.preventDefault(),function(){var t=a[y].filter((function(e){return!Object.keys(s[y]).includes(e.name)}))[0].name;e({type:x.APIActions.setQuery,payload:{path:y,data:Object(l.a)(Object(l.a)({},s[y]),{},Object(o.a)({},t,""))}})}()},children:"+"})}),Object(m.jsx)("p",{children:Object(m.jsx)("input",{type:"submit",value:"search"})})]})})}n(95);var _=function(e){return Object(m.jsx)("div",{className:"modalContainer",onClick:function(t){e.setModal({modal:!1,component:null,title:null})},children:Object(m.jsxs)("div",{onClick:function(e){e.stopPropagation()},children:[Object(m.jsxs)("div",{className:"modalHeader",children:[Object(m.jsx)("p",{children:(null===e||void 0===e?void 0:e.title)?e.title:""}),Object(m.jsx)("button",{onClick:function(){return e.setModal({modal:!1,component:null,title:null})},children:"x"})]}),(null===e||void 0===e?void 0:e.Component)&&Object(m.jsx)(e.Component,{})]})})},F=n(25),C=n.n(F);function N(e){var t=Object(b.c)((function(e){return e.API.APISwagger})),n=e.property,c=e.value;if(null===c||0===c.length)return null;if("object"===typeof c)return Object(m.jsx)("div",{className:"resultItem",children:Object(m.jsxs)("details",{children:[Object(m.jsx)("summary",{children:Object(m.jsx)("p",{children:Object(m.jsxs)("span",{className:"label",children:[n,c.name&&" (".concat(c.name,")"),!c.name&&c.title&&" (".concat(c.title,")")]})})}),Object.entries(c).map((function(e,t){var c=Object(h.a)(e,2),a=c[0],r=c[1];return null===r?null:Object(m.jsx)(N,{property:a,value:r},"".concat(n,"-").concat(a,"-").concat(t))}))]})});var a=JSON.stringify(c).replace(/^"(.+)"$/,"$1"),r=C.a.isURL(a),s=a.includes(t.basePath),i=new RegExp("https://".concat(t.host).concat(t.basePath).replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")),o=r&&"url"===n&&s?function(e){var t=e.split("/");return 4===t.length?"/".concat(t[1],"/id/?id=").concat(t[2],"/"):5===t.length?"/".concat(t[1],"/").concat(t[2],":id/?id=").concat(t[3],"/"):""}(a.replace(i,"")):a,l=s?a.replace(i,""):a.replace(/^(http){1}(s)*:\/\/(www.)*/i,"");return Object(m.jsx)("div",{className:"resultItem",children:Object(m.jsxs)("p",{children:[Object(m.jsx)("span",{className:"label",children:n}),": ",r?Object(m.jsx)("a",{href:o,target:s?"_self":"new",children:l}):a]})})}n(55);function Q(e){var t={url:null};return Object(m.jsxs)("div",{className:"resultCard",children:[Object(m.jsx)("div",{className:"left",children:Object.entries(e.data).map((function(e,n){var c=Object(h.a)(e,2),a=c[0],r=c[1];return"image"===a&&(null===r||void 0===r?void 0:r.length)>0?(t.url=r,null):null===r||0===r.length?null:Object(m.jsx)(N,{property:a,value:r},"".concat(a,"-").concat(n))}))}),null!==t.url&&C.a.isURL(t.url)&&Object(m.jsx)("div",{className:"right",children:Object(m.jsx)("a",{href:t.url,target:"new",children:Object(m.jsx)("img",{src:t.url,alt:""})})})]})}n(174);var k=function(){return Object(m.jsxs)("div",{className:"loadingContainer",children:[Object(m.jsx)("p",{className:"loadingText",children:"...searching..."}),Object(m.jsx)("img",{className:"loadingImage",alt:"rocket flying around",src:"".concat("","/logo150.png")})]})};function U(){var e=Object(b.c)((function(e){return e.API.URLParameters})).fullQueryForReact,t=Object(b.b)(),n=Object(b.c)((function(e){return e.API.queryResults}));return Object(c.useEffect)((function(){var e=Object.keys(n);Object.keys(e).length>10&&t({type:x.APIActions.cleanUpQueryResults})}),[n,t]),Object(m.jsxs)(m.Fragment,{children:[n[e]&&n[e].queryResult.length>0&&Object(m.jsx)("div",{className:"queryResults",children:n[e].queryResult.map((function(e,t){return Object(m.jsx)(Q,{data:e},"resultCard-".concat(t))}))}),(!n||!n[e])&&Object(m.jsx)("p",{children:"no data"}),n&&n[e]&&"searching"===n[e].status&&Object(m.jsx)(k,{})]})}var T=function(){var e=Object(b.b)(),t=Object(f.e)(),n=Object(f.d)(),a=Object(c.useState)(!0),r=Object(h.a)(a,2),s=r[0],i=r[1],o=Object(c.useState)({modal:!1,component:null,title:""}),l=Object(h.a)(o,2),u=l[0],p=l[1],j=Object(b.c)((function(e){return e.API.URLParameters}));return Object(c.useEffect)((function(){if(s){i(!1),e({type:x.APIActions.setParams,payload:t});var c="".concat(t.pathname).concat(t.search);c.length>2?n.push(c):n.push("/")}else e({type:x.APIActions.setParams,payload:t})}),[t,s,i,n,e]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(v,{setModal:p}),Object(m.jsx)(I,{}),(null===j||void 0===j?void 0:j.api)&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(R,{}),(null===j||void 0===j?void 0:j.endpoint)&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(q,{}),Object(m.jsx)(U,{})]})]}),u.modal&&Object(m.jsx)(_,{Component:u.component,title:u.title,setModal:p})]})},L=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,180)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))},D=n(58),M=n.n(D),$=Object(i.b)(M()()),G=Object(i.c)(d,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__(),$);s.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(b.a,{store:G,children:Object(m.jsx)(O.a,{children:Object(m.jsx)(T,{})})})}),document.getElementById("root")),L()},55:function(e,t,n){},63:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){},94:function(e,t,n){},95:function(e,t,n){}},[[179,1,2]]]);
//# sourceMappingURL=main.048cabe6.chunk.js.map