(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{168:function(e,t,n){},173:function(e,t,n){},174:function(e,t,n){},179:function(e,t,n){"use strict";n.r(t),n.d(t,"store",(function(){return H}));var a=n(1),c=n.n(a),r=n(24),s=n.n(r),o=(n(63),n(21)),i=n(8),l=n(3),u={getAPISwagger:"GET_API_SWAGGER",setActiveAPI:"SET_ACTIVE_API",setActiveEndpoint:"SET_ACTIVE_ENDPOINT",getEndpointParameters:"GET_API_PARAMETERS",setParams:"SET_URL_PARAMETERS",setQuery:"SET_QUERY",setQueryResults:"SET_QUERY_RESULTS",cleanUpQueryResults:"CLEAN_UP_QUERY_RESULTS"},d={APISwagger:{},activeEndpoints:{},EndpointParameters:null,URLParameters:{api:null,endpoint:null,query:null,pathStringForSwagger:null,pathStringForReact:null,fullQueryForAPI:null,fullQueryForReact:null},queries:{},queryResults:{}},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.getAPISwagger:return Object(l.a)(Object(l.a)({},e),{},{APISwagger:t.payload});case u.setActiveEndpoint:return Object(l.a)(Object(l.a)({},e),{},{activeEndpoints:Object(l.a)(Object(l.a)({},e.activeEndpoints),{},Object(i.a)({},t.payload.apiName,t.payload.endpoint))});case u.getEndpointParameters:return Object(l.a)(Object(l.a)({},e),{},{EndpointParameters:Object(i.a)({},t.payload.endpoint,t.payload.parameters)});case u.setParams:var n=t.payload,a=n.pathname,c=n.search,r=a.replace(/\/$/,"").replace(/^\//,"").split("/"),s=r[0]||void 0,o=r[1]||void 0,p=s&&o?s===o?"/".concat(s,"/"):"/".concat(s,"/").concat(o.replace(/^(id)$/,"{id}").replace(/(:id)$/,"/{id}"),"/"):void 0,j=s&&o?"".concat(s,"/").concat(o):void 0,b=p?"".concat(p.replace("/{id}","")).concat(c.replace("?id=","")):"",O=j?c?"".concat(j,"/").concat(c):j:void 0;return Object(l.a)(Object(l.a)({},e),{},{URLParameters:{api:s,endpoint:o,query:c,pathStringForSwagger:p,pathStringForReact:j,fullQueryForAPI:b,fullQueryForReact:O}});case u.setQuery:return Object(l.a)(Object(l.a)({},e),{},{queries:Object(l.a)(Object(l.a)({},e.queries),{},Object(i.a)({},t.payload.path,t.payload.data))});case u.setQueryResults:return Object(l.a)(Object(l.a)({},e),{},{queryResults:Object(l.a)(Object(l.a)({},e.queryResults),{},Object(i.a)({},t.payload.query,{queryPath:t.payload.queryPath,query:t.payload.query,queryResult:t.payload.queryResult,timestamp:Date.now(),status:t.payload.status||""}))});case u.cleanUpQueryResults:var g=10,f={};return Object.entries(e.queryResults).sort((function(e,t){return t[1].timestamp-e[1].timestamp})).slice(0,g).forEach((function(e){f[e[0]]=e[1]})),Object(l.a)(Object(l.a)({},e),{},{queryResults:f});default:return e}},j=n(15),b={signUp:"USER_SIGNUP",signedUp:"USER_SIGNEDUP",signUpError:"USER_SIGNUP_ERROR",logIn:"USER_LOGIN",logInError:"USER_LOGIN_ERROR",loggedIn:"USER_LOGGED_IN",loggedOut:"USER_LOGGED_OUT",addFavorite:"USER_ADD_FAVORITE",removeFavorite:"USER_REMOVE_FAVORITE",getFavorites:"USER_GET_FAVORITES",logInStatusReset:"LOGIN_STATUS_RESET",signUpStatusReset:"SIGNUP_STATUS_RESET"},O={email:"",loggedIn:!1,token:null,favorites:[],signUpStatus:{class:"info",message:""},logInStatus:{class:"info",message:""}},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.signUp:return Object(l.a)(Object(l.a)({},e),{},{signUpStatus:{class:"info",message:"...attempting to create account..."}});case b.signedUp:return Object(l.a)(Object(l.a)({},e),{},{signUpStatus:{class:"info",message:"success!"},loggedIn:!0,email:t.payload.email,token:t.payload.token});case b.signUpError:return Object(l.a)(Object(l.a)({},e),{},{signUpStatus:{class:"error",message:t.payload.message},loggedIn:!1});case b.signUpStatusReset:return Object(l.a)(Object(l.a)({},e),{},{signUpStatus:{class:"info",message:""}});case b.logIn:return Object(l.a)(Object(l.a)({},e),{},{logInStatus:{class:"info",message:"...attempting to log you in..."}});case b.loggedIn:return Object(l.a)(Object(l.a)({},e),{},{loggedInStatus:{class:"info",message:"success"},loggedIn:!0,email:t.payload.email,token:t.payload.token});case b.logInError:return Object(l.a)(Object(l.a)({},e),{},{loggedInStatus:{class:"error",message:t.payload.message},loggedIn:!1});case b.logInStatusReset:return Object(l.a)(Object(l.a)({},e),{},{logInStatus:{class:"info",message:""}});case b.loggedOut:return Object(l.a)(Object(l.a)({},e),{},{logInStatus:{class:"info",message:""},loggedIn:!1,email:"",favorites:[],token:null});case b.addFavorite:return Object(l.a)(Object(l.a)({},e),{},{favorites:[].concat(Object(j.a)(e.favorites),[t.payload.favorite])});case b.removeFavorite:return Object(l.a)(Object(l.a)({},e),{},{favorites:Object(j.a)(e.favorites.filter((function(e){return e.ID!==t.payload.favoriteID})))});case b.getFavorites:return Object(l.a)(Object(l.a)({},e),{},{favorites:t.payload.favorites});default:return e}},f=Object(o.a)({API:p,user:g}),m=n(4),h=n(16),v=n(7),y=(n(69),n(6)),I={APIActions:u,userActions:b},x=(n(70),n(30)),A=n.n(x),S="https://spaceage.kevinstonge.com/api",E=A.a.create({baseURL:S}),P=function(e){return A.a.create({baseURL:S,headers:{authorization:"Bearer ".concat(e)}})},R=n(0),w=function(){var e=Object(m.c)((function(e){return e.user})),t=Object(m.b)(),n=Object(a.useState)({email:"",password:""}),c=Object(v.a)(n,2),r=c[0],s=c[1];Object(a.useEffect)((function(){t({type:I.userActions.logInStatusReset})}),[t]);var o=function(e){t({type:I.userActions.logInStatusReset}),s(Object(l.a)(Object(l.a)({},r),{},Object(i.a)({},e.target.name,e.target.value)))};return Object(R.jsxs)("form",{children:[Object(R.jsxs)("label",{htmlFor:"email",children:[Object(R.jsx)("p",{children:"email:"}),Object(R.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",value:r.email,onChange:function(e){return o(e)}})]}),Object(R.jsxs)("label",{htmlFor:"password",children:[Object(R.jsx)("p",{children:"password:"}),Object(R.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",value:r.password,onChange:function(e){return o(e)}})]}),""!==e.logInStatus&&Object(R.jsx)("p",{className:e.logInStatus.class,children:e.logInStatus.message}),Object(R.jsx)("button",{type:"submit",onClick:function(e){return function(e){e.preventDefault(),t({type:I.userActions.logIn}),E.post("/users/login",{email:r.email,password:r.password}).then((function(e){200===e.status?t({type:I.userActions.loggedIn,payload:{email:r.email,token:e.data.token}}):t({type:I.userActions.logInError,payload:{message:e.data.message,class:"error"}})})).catch((function(e){var n;(null===(n=e.response)||void 0===n?void 0:n.status)&&t({type:I.userActions.logInError,payload:{message:e.response.data.message,class:"error"}})}))}(e)},children:"log in"})]})},U=n(18),_=n.n(U),F=function(){var e=Object(m.c)((function(e){return e.user})),t=Object(m.b)(),n=Object(a.useState)({email:"",newPassword:"",confirmPassword:""}),c=Object(v.a)(n,2),r=c[0],s=c[1];Object(a.useEffect)((function(){t({type:I.userActions.signUpStatusReset})}),[t]);var o=function(e){t({type:I.userActions.signUpStatusReset}),s(Object(l.a)(Object(l.a)({},r),{},Object(i.a)({},e.target.name,e.target.value)))};return Object(R.jsxs)("form",{children:[Object(R.jsxs)("label",{htmlFor:"email",children:[Object(R.jsx)("p",{children:"email:"}),Object(R.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",value:r.email,onChange:function(e){return o(e)}})]}),Object(R.jsxs)("label",{htmlFor:"new-password",children:[Object(R.jsx)("p",{children:"password:"}),Object(R.jsx)("input",{id:"new-password",name:"newPassword",type:"password",autoComplete:"new-password",onChange:function(e){return o(e)}})]}),Object(R.jsxs)("label",{htmlFor:"confirm-password",children:[Object(R.jsx)("p",{children:"confirm password:"}),Object(R.jsx)("input",{id:"confirm-password",name:"confirmPassword",type:"password",autoComplete:"confirm-password",onChange:function(e){return o(e)}})]}),""!==e.signInStatus&&Object(R.jsx)("p",{className:e.signUpStatus.class,children:e.signUpStatus.message}),Object(R.jsx)("button",{type:"submit",onClick:function(e){return function(e){e.preventDefault(),_.a.isEmail(r.email)?r.newPassword===r.confirmPassword?(t({type:I.userActions.signUp}),E.post("/users/signup",{email:r.email,password:r.newPassword}).then((function(e){201===e.status?t({type:I.userActions.signedUp,payload:{email:r.email,token:e.data.token}}):t({type:I.userActions.signUpError,payload:{message:e.data.message,class:"error"}})})).catch((function(e){var n;409===(null===(n=e.response)||void 0===n?void 0:n.status)&&t({type:I.userActions.signUpError,payload:{message:e.response.data.message,class:"error"}})}))):t({type:I.userActions.signUpError,payload:{class:"error",message:"passwords don't match"}}):t({type:I.userActions.signUpError,payload:{class:"error",message:"invalid email"}})}(e)},children:"sign up"})]})},k=(n(168),function(e){return Object(R.jsx)("div",{className:"modalContainer",onClick:function(t){e.setModal({modal:!1,component:null,title:null})},children:Object(R.jsxs)("div",{onClick:function(e){e.stopPropagation()},children:[Object(R.jsxs)("div",{className:"modalHeader",children:[Object(R.jsx)("p",{children:(null===e||void 0===e?void 0:e.title)?e.title:""}),Object(R.jsx)("button",{onClick:function(){return e.setModal({modal:!1,component:null,title:null})},children:"x"})]}),(null===e||void 0===e?void 0:e.Component)&&Object(R.jsx)(e.Component,{}),(null===e||void 0===e?void 0:e.children)&&e.children]})})}),q=function(){var e=Object(m.c)((function(e){return e.user})),t=e.loggedIn,n=e.token,c=Object(a.useState)({modal:!1,component:null,title:"favorites"}),r=Object(v.a)(c,2),s=r[0],o=r[1],i=Object(m.b)();Object(a.useEffect)((function(){t&&n&&P(n).get("/users/favorites").then((function(e){i({type:I.userActions.getFavorites,payload:{favorites:e.data.favorites}})}))}),[n,t,i]);return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)("button",{onClick:function(){o({modal:!0,component:null,title:"favorites"})},children:"favorites"}),s.modal&&Object(R.jsx)(k,{setModal:o,title:"favorites",children:Object(R.jsxs)("div",{className:"favorites",children:[e.favorites.map((function(e){return Object(R.jsxs)("div",{className:"favorite",children:[Object(R.jsx)("a",{href:"/".concat(e.QueryString),children:e.QueryString}),Object(R.jsx)("button",{onClick:function(){var t;t=e.ID,P(n).delete("/users/favorites/remove",{data:{favoriteID:t}}).then((function(e){200===e.status?i({type:I.userActions.removeFavorite,payload:{favoriteID:t}}):console.log("error deleting favorite")})).catch((function(e){return console.log(e)}))},children:"delete"})]},"favorite-".concat(e.ID))})),0===e.favorites.length&&Object(R.jsx)("p",{children:"no favorites"})]})})]})},N=function(e){var t=Object(m.c)((function(e){return e.user})),n=Object(m.b)(),c=e.setModal;return Object(a.useEffect)((function(){t.loggedIn&&c({modal:!1,component:null,title:""})}),[n,t.loggedIn,c]),Object(R.jsxs)("header",{children:[Object(R.jsxs)("div",{className:"left",children:[Object(R.jsx)("img",{src:"".concat("","/logo70.png"),alt:"cute purple rocket ship"}),Object(R.jsx)("h1",{children:"spaceage"})]}),Object(R.jsxs)("div",{className:"right",children:[!1===t.loggedIn&&Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)("button",{onClick:function(){c({modal:!0,component:w,title:"log_in"})},children:"log_in"}),Object(R.jsx)("button",{onClick:function(){c({modal:!0,component:F,title:"sign_up"})},children:"sign_up"})]}),!0===t.loggedIn&&Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(q,{}),Object(R.jsx)("button",{onClick:function(){n({type:I.userActions.loggedOut})},children:"log out"})]})]})]})};function C(e){var t=Object(m.b)(),n=Object(m.c)((function(e){return e.API.APISwagger})),c=Object(m.c)((function(e){return e.API.URLParameters.api})),r=Object(y.d)();return Object(a.useEffect)((function(){E.get("/data/apis").then((function(e){t({type:I.APIActions.getAPISwagger,payload:e.data})}))}),[t]),Object(a.useEffect)((function(){c&&(null===n||void 0===n?void 0:n.paths)&&(0===Object.keys(n.paths).filter((function(e){return e.split("/")[1]===c})).length&&Object.keys(n.paths).length>0&&r.push("/"))}),[c,n,r]),Object(R.jsx)(R.Fragment,{children:(null===n||void 0===n?void 0:n.paths)&&Object(R.jsx)("nav",{children:Array.from(new Set(Object.keys(n.paths).map((function(e){return e.split("/")[1]})))).map((function(e,t){return Object(R.jsx)(h.b,{to:"/".concat(e),className:"nav ".concat(c===e?"active":"inactive"),children:e},"apiItem-".concat(t))}))})})}function Q(){var e=Object(m.c)((function(e){return e.API.APISwagger})).paths,t=Object(m.c)((function(e){return e.API.activeEndpoints})),n=Object(m.c)((function(e){return e.API.URLParameters})),c=n.api,r=n.endpoint,s=n.pathStringForReact,o=Object(m.c)((function(e){return e.API.queries})),i=Object(m.b)(),l=Object(y.d)();Object(a.useEffect)((function(){if(!r&&t[c])l.push("/".concat(c,"/").concat(t[c]));else if(e&&t[c]!==r){Object.keys(e).filter((function(e){return e.split("/")[1]===c&&(e.split("/").slice(2,-1).join(":").replace("{id}","id")===r||r===c)})).length>0?i({type:I.APIActions.setActiveEndpoint,payload:{apiName:c,endpoint:r}}):(console.log("culprit"),l.push("/".concat(c)))}}),[c,r,t,e,i,l]);var u=Object(a.useRef)(o);return Object(a.useEffect)((function(){var e;if((null===(e=u.current)||void 0===e?void 0:e.hasOwnProperty(s))&&null!==u.current[s]){var t=Object.entries(u.current[s]).filter((function(e){return""!==e[1]})).map((function(e){return"".concat(e[0],"=").concat(e[1])})).sort().join("&");"".concat(l.location.pathname).concat(l.location.search)!=="/".concat(s,"/?").concat(t)&&l.push("/".concat(s,"/?").concat(t))}}),[s,u,l]),Object(R.jsx)("nav",{children:c&&e&&Object.keys(e).map((function(e,t){var n=e.split("/"),a=""===n[2]?c:n.slice(2,-1).join(":").replace(/[{}]/g,"");return n[1]===c?Object(R.jsx)(h.b,{to:"/".concat(c,"/").concat(a),className:"nav ".concat(r===a?"active":"inactive"),children:a},"endpoint-".concat(a,"-").concat(t)):null}))})}var T=function(e){var t=e.pathStringForReact,n=e.fullQueryForReact,a=e.fullQueryForAPI;H.dispatch({type:I.APIActions.setQueryResults,payload:{queryPath:t,query:n,queryResult:[],status:"searching"}}),E.get("/data".concat(a)).then((function(e){e.data&&H.dispatch({type:I.APIActions.setQueryResults,payload:{queryPath:t,query:n,queryResult:e.data,status:"success"}})})).catch((function(e){H.dispatch({type:I.APIActions.setQueryResults,payload:{queryPath:t,query:n,queryResult:[],status:"unable to retrieve data from the server, try again later"}})}))},D=function(e){var t,n=["search"],a=[];(null===e||void 0===e||null===(t=e.get)||void 0===t?void 0:t.parameters)&&e.get.parameters.length>0&&a.push.apply(a,Object(j.a)(e.get.parameters)),(null===e||void 0===e?void 0:e.parameters)&&e.parameters.length>0&&a.push.apply(a,Object(j.a)(e.parameters));var c=a.filter((function(e){return n.includes(e.name)})),r=a.filter((function(e){var t=0;return c.forEach((function(n){n.name===e.name&&t++})),!(t>0)}));return[].concat(Object(j.a)(c),Object(j.a)(r))};n(173);function L(){var e=Object(m.b)(),t=Object(y.d)(),n=Object(m.c)((function(e){return e.API.APISwagger})),c=Object(m.c)((function(e){return e.API.EndpointParameters})),r=Object(m.c)((function(e){return e.API.URLParameters})),s=Object(m.c)((function(e){return e.API.queries})),o=Object(m.c)((function(e){return e.API.queryResults})),u=r.api,d=r.endpoint,p=r.query,j=r.pathStringForSwagger,b=r.fullQueryForAPI,O=r.pathStringForReact,g=r.fullQueryForReact;Object(a.useEffect)((function(){if(p&&n.paths&&n.paths["".concat(j)]){var t=JSON.parse('{"'+decodeURI(p).replace(/^\?/,"").replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"')+'"}');e({type:I.APIActions.setQuery,payload:{path:O,data:t}}),o[g]||T(r)}}),[p,o,n,r,O,g,j,e]),Object(a.useEffect)((function(){if(d&&u&&n.paths){var t=n.paths["".concat(j)],a=D(t);e({type:I.APIActions.getEndpointParameters,payload:{endpoint:O,parameters:a}}),0===a.length&&(null===t||void 0===t?void 0:t.get)&&(o[g]||T(r))}}),[r,j,O,g,u,d,n,o,e]),Object(a.useEffect)((function(){O&&(s.hasOwnProperty(O)||e({type:I.APIActions.setQuery,payload:{path:O,data:null}}))}),[s,O,e]),Object(a.useEffect)((function(){null===s[O]&&c&&c[O]&&c[O].length>0&&e({type:I.APIActions.setQuery,payload:{path:O,data:Object(i.a)({},c[O][0].name,"")}})}),[s,O,c,b,g,e]);return Object(R.jsx)(R.Fragment,{children:s&&null!==s[O]&&c&&c.hasOwnProperty(O)&&Object(R.jsxs)("form",{onSubmit:function(e){e.preventDefault(),function(){var e=Object.entries(s[O]).filter((function(e){return""!==e[1]})).map((function(e){return"".concat(e[0],"=").concat(e[1])})).sort().join("&");t.push("/".concat(O,"/?").concat(e))}()},children:[Object.entries(s[O]).map((function(t,n){var a=Object(v.a)(t,2),r=a[0],o=a[1];return Object(R.jsxs)("div",{className:"queryItem",children:[Object(R.jsx)("select",{value:r,id:"".concat(r,"-select"),onChange:function(t){return function(t){var n=t.target.id.substring(0,t.target.id.length-7),a=t.target.value,c=s[O];delete c[n],c[a]="",e({type:I.APIActions.setQuery,payload:{path:O,data:c}})}(t)},children:c[O]&&c[O].length>0&&c[O].map((function(e,t){var n=Object.keys(s[O]).includes(e.name)&&r!==e.name;return Object(R.jsx)("option",{disabled:n,id:"".concat(e.name,"-option"),children:e.name},"param-".concat(t))}))}),Object(R.jsx)("input",{type:"text",value:o,onChange:function(t){return function(t){var n=s[O];n[t.target.id.substring(0,t.target.id.length-6)]=t.target.value,e({type:I.APIActions.setQuery,payload:{path:O,data:n}})}(t)},id:"".concat(r,"-input")}),Object.keys(s[O]).length>1&&Object(R.jsx)("button",{type:"button",id:"".concat(r,"-remove"),onClick:function(t){t.preventDefault(),function(t){var n=t.target.id.substring(0,t.target.id.length-7),a=s[O];delete a[n],e({type:I.APIActions.setQuery,payload:{path:O,data:a}})}(t)},children:"-"})]},"queryItem-".concat(n))})),Object.keys(s[O]).length<c[O].length&&Object(R.jsx)("p",{children:Object(R.jsx)("button",{type:"button",onClick:function(t){t.preventDefault(),function(){var t=c[O].filter((function(e){return!Object.keys(s[O]).includes(e.name)}))[0].name;e({type:I.APIActions.setQuery,payload:{path:O,data:Object(l.a)(Object(l.a)({},s[O]),{},Object(i.a)({},t,""))}})}()},children:"+"})}),Object(R.jsx)("p",{children:Object(R.jsx)("input",{type:"submit",value:"search"})})]})})}function G(e){var t=Object(m.c)((function(e){return e.API.APISwagger})),n=e.property,a=e.value;if(null===a||0===a.length)return null;if("object"===typeof a)return Object(R.jsx)("div",{className:"resultItem",children:Object(R.jsxs)("details",{children:[Object(R.jsx)("summary",{children:Object(R.jsx)("p",{children:Object(R.jsxs)("span",{className:"label",children:[n,a.name&&" (".concat(a.name,")"),!a.name&&a.title&&" (".concat(a.title,")")]})})}),Object.entries(a).map((function(e,t){var a=Object(v.a)(e,2),c=a[0],r=a[1];return null===r?null:Object(R.jsx)(G,{property:c,value:r},"".concat(n,"-").concat(c,"-").concat(t))}))]})});var c=JSON.stringify(a).replace(/^"(.+)"$/,"$1"),r=_.a.isURL(c),s=c.includes(t.basePath),o=new RegExp("https://".concat(t.host).concat(t.basePath).replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")),i=r&&"url"===n&&s?function(e){var t=e.split("/");return 4===t.length?"/".concat(t[1],"/id/?id=").concat(t[2],"/"):5===t.length?"/".concat(t[1],"/").concat(t[2],":id/?id=").concat(t[3],"/"):""}(c.replace(o,"")):c,l=s?c.replace(o,""):c.replace(/^(http){1}(s)*:\/\/(www.)*/i,"");return Object(R.jsx)("div",{className:"resultItem",children:Object(R.jsxs)("p",{children:[Object(R.jsx)("span",{className:"label",children:n}),": ",r?Object(R.jsx)("a",{href:i,target:s?"_self":"new",children:l}):c]})})}n(56);function M(e){var t={url:null};return Object(R.jsxs)("div",{className:"resultCard",children:[Object(R.jsx)("div",{className:"left",children:Object.entries(e.data).map((function(e,n){var a=Object(v.a)(e,2),c=a[0],r=a[1];return"image"===c&&(null===r||void 0===r?void 0:r.length)>0?(t.url=r,null):null===r||0===r.length?null:Object(R.jsx)(G,{property:c,value:r},"".concat(c,"-").concat(n))}))}),null!==t.url&&_.a.isURL(t.url)&&Object(R.jsx)("div",{className:"right",children:Object(R.jsx)("a",{href:t.url,target:"new",children:Object(R.jsx)("img",{src:t.url,alt:""})})})]})}n(174);var V=function(){return Object(R.jsxs)("div",{className:"loadingContainer",children:[Object(R.jsx)("p",{className:"loadingText",children:"...searching..."}),Object(R.jsx)("img",{className:"loadingImage",alt:"rocket flying around",src:"".concat("","/logo150.png")})]})};function $(){var e=Object(m.c)((function(e){return e.API.URLParameters})).fullQueryForReact,t=Object(m.b)(),n=Object(m.c)((function(e){return e.API.queryResults})),c=Object(m.c)((function(e){return e.user.favorites})),r=Object(m.c)((function(e){return e.user.token}));return Object(a.useEffect)((function(){var e=Object.keys(n);Object.keys(e).length>10&&t({type:I.APIActions.cleanUpQueryResults})}),[n,t]),Object(R.jsxs)(R.Fragment,{children:[n[e]&&n[e].queryResult.length>0&&Object(R.jsxs)("div",{className:"queryResults",children:[Object(R.jsx)("div",{children:Object(R.jsxs)("p",{children:['results for query: "',n[e].query,'"',c.map((function(e){return e.QueryString})).includes(n[e].query)?Object(R.jsx)("button",{onClick:function(){return function(){var a=c.filter((function(t){return n[e].query===t.QueryString}))[0].ID;E.delete("/users/favorites/remove",{data:{favoriteID:a},headers:{authorization:"Bearer ".concat(r)}}).then((function(e){200===e.status?t({type:I.userActions.removeFavorite,payload:{favoriteID:a}}):console.log("error deleting favorite")})).catch((function(e){console.log(e)}))}()},children:"remove from favorites"}):Object(R.jsx)("button",{onClick:function(){return function(){var a=n[e].query;E.post("/users/favorites/add",{favorite:a},{headers:{authorization:"Bearer ".concat(r)}}).then((function(e){201===e.status?t({type:I.userActions.addFavorite,payload:{favorite:e.data.favorite}}):console.log("error adding favorite")}))}()},children:"add to favorites"})]})}),n[e].queryResult.map((function(e,t){return Object(R.jsx)(M,{data:e},"resultCard-".concat(t))}))]}),(!n||!n[e]||0===n[e].length)&&Object(R.jsx)("p",{children:"no data"}),n&&n[e]&&"searching"===n[e].status&&Object(R.jsx)(V,{})]})}var B=function(){var e=Object(m.b)(),t=Object(y.e)(),n=Object(y.d)(),c=Object(a.useState)(!0),r=Object(v.a)(c,2),s=r[0],o=r[1],i=Object(a.useState)({modal:!1,component:null,title:""}),l=Object(v.a)(i,2),u=l[0],d=l[1],p=Object(m.c)((function(e){return e.API.URLParameters}));return Object(a.useEffect)((function(){if(s){o(!1),e({type:I.APIActions.setParams,payload:t});var a="".concat(t.pathname).concat(t.search);a.length>2?n.push(a):n.push("/")}else e({type:I.APIActions.setParams,payload:t})}),[t,s,o,n,e]),Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(N,{setModal:d}),Object(R.jsx)(C,{}),(null===p||void 0===p?void 0:p.api)&&Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(Q,{}),(null===p||void 0===p?void 0:p.endpoint)&&Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(L,{}),Object(R.jsx)($,{})]})]}),u.modal&&Object(R.jsx)(k,{Component:u.component,title:u.title,setModal:d})]})},J=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,180)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))},X=n(58),z=n.n(X),Y=Object(o.b)(z()()),H=Object(o.c)(f,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__(),Y);s.a.render(Object(R.jsx)(c.a.StrictMode,{children:Object(R.jsx)(m.a,{store:H,children:Object(R.jsx)(h.a,{children:Object(R.jsx)(B,{})})})}),document.getElementById("root")),J()},56:function(e,t,n){},63:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){}},[[179,1,2]]]);
//# sourceMappingURL=main.d2f41d3f.chunk.js.map